<!doctype html>
<html lang=en>
<head>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Weather</title>
<link rel=icon href=favicon.png type=image/png>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel=stylesheet>
<link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
<style>:root{--background-color-dark:#1c1c1c;--text-color-dark:#f9f9f9;--secondary-text-color-dark:rgba(255, 255, 255, 0.7);--modal-background-dark:rgba(51, 51, 51, 0.8);--modal-transparent-dark:rgba(51, 51, 51, 0.7);--search-background-dark:rgba(51, 51, 51, 0.5);--dark-overlay:rgba(51, 51, 51, 0.2);--dark-transparent:rgba(255, 255, 255, 0.1);--glass-border-dark:rgba(100, 100, 100, 0.2);--background-color-light:#f0f0f0;--text-color-light:#333333;--secondary-text-color-light:rgba(0, 0, 0, 0.7);--modal-background-light:rgba(220, 220, 220, 0.8);--modal-transparent-light:rgba(240, 240, 240, 0.7);--search-background-light:rgba(220, 220, 220, 0.5);--light-overlay:rgba(220, 220, 220, 0.2);--light-transparent:rgba(255, 255, 255, 0.1);--glass-border-light:rgba(200, 200, 200, 0.2);--background-color:var(--background-color-dark);--text-color:var(--text-color-dark);--secondary-text-color:var(--secondary-text-color-dark);--modal-background:var(--modal-background-dark);--modal-transparent:var(--modal-transparent-dark);--search-background:var(--search-background-dark);--overlay-color:var(--dark-overlay);--transparent-color:var(--dark-transparent);--glass-border:var(--glass-border-dark)}body.light-theme{--background-color:var(--background-color-light);--text-color:var(--text-color-light);--secondary-text-color:var(--secondary-text-color-light);--modal-background:var(--modal-background-light);--modal-transparent:var(--modal-transparent-light);--search-background:var(--search-background-light);--overlay-color:var(--light-overlay);--transparent-color:var(--light-transparent);--glass-border:var(--glass-border-light)}*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,sans-serif;-webkit-tap-highlight-color:transparent;cursor:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 10.04 10.04"><circle cx="5.02" cy="5.02" r="4.52" style="fill:rgba(0,0,0,0.5);stroke:rgba(255,255,255,0.5);stroke-width:1"/></svg>') 10 10,auto!important}body{background-color:var(--background-color);min-height:100vh;margin:0;padding:0;overflow-x:hidden}.modal-content::-webkit-scrollbar,body::-webkit-scrollbar{width:8px}.modal-content::-webkit-scrollbar-track,body::-webkit-scrollbar-track{background:0 0}.modal-content::-webkit-scrollbar-thumb,body::-webkit-scrollbar-thumb{background-color:var(--search-background);border-radius:50px}.material-symbols-rounded{font-variation-settings:'FILL' 1,'wght' 700,'GRAD' 0,'opsz' 24;vertical-align:middle}.detailed-weather{position:relative;font-size:1.5rem;padding:20px;text-align:center;transition:background .5s ease-in-out;user-select:none;font-variant-numeric:tabular-nums;min-height:100vh;min-width:100vw;color:#f9f9f9;text-shadow:rgba(0,0,0,.5) 0 0 20px;display:flex;flex-direction:column;justify-content:center;box-sizing:border-box;overflow-y:auto;overflow-x:hidden;margin:0 auto}.detailed-weather::after{content:'';position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;transition:opacity .5s ease-in-out}.detailed-weather.transitioning::after{opacity:1}.detailed-weather .additional-info,.detailed-weather .forecast-container,.detailed-weather .hourly-forecast,.detailed-weather .location-text,.detailed-weather .weather-icon,.detailed-weather h2,.detailed-weather p{position:relative;z-index:10}.detailed-weather .weather-icon{font-size:5rem;display:block;margin:30px 0 20px;user-select:none}.detailed-weather h2{font-size:3.5rem;margin:20px 0 20px;user-select:none;color:#f9f9f9}.location-text{font-size:1rem;margin-bottom:10px;font-weight:400;color:#f9f9f9;user-select:none}.additional-info{font-size:1rem;color:#f9f9f9;margin-top:15px;user-select:none}.forecast-container{display:flex;justify-content:space-between;flex-wrap:wrap;margin-top:20px;user-select:none;display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr))}.forecast-day{background-color:rgba(255,255,255,.1);padding:10px;border-radius:25px;text-align:center;flex:1 1 18%;margin:5px;box-sizing:border-box;user-select:none;display:grid;border:1px solid var(--glass-border-light);backdrop-filter:blur(10px)}.forecast-icon{font-size:2rem;user-select:none;font-family:'Material Symbols Rounded',sans-serif;font-variation-settings:'FILL' 1,'wght' 700,'GRAD' 0,'opsz' 24}.forecast-day p{margin:5px 0;user-select:none}.forecast-day .day-name{font-weight:700;font-size:1.2rem;color:#f9f9f9;user-select:none}.hourly-forecast{margin-top:30px;text-align:left;color:#f9f9f9;user-select:none}.hour{display:grid;grid-template-columns:1fr 1fr 1fr 3fr;align-items:center;gap:10px;padding:7px 15px;background-color:rgba(255,255,255,.1);margin:5px 0;border-radius:10px;user-select:none;border:1px solid var(--glass-border-light);backdrop-filter:blur(10px)}.hour.first{border-radius:25px 25px 10px 10px;user-select:none}.hour.last{border-radius:10px 10px 25px 25px;user-select:none}.weather-elements-container{position:fixed;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none;z-index:1;opacity:50%}.sun{position:absolute;border-radius:50%;z-index:2}.sun.morning{width:60px;height:60px;background:#ffe87c;box-shadow:0 0 30px #ff9500,0 0 60px #ffcb70;left:10%;top:20%}.sun.midday{width:70px;height:70px;background:#fff9c4;box-shadow:0 0 40px #ffee58,0 0 80px #ffeb3b;left:50%;top:15%;transform:translateX(-50%)}.sun.evening{width:60px;height:60px;background:#ff9800;box-shadow:0 0 30px #ff5722,0 0 60px #ef6c00;right:10%;top:20%}.sun.behind-clouds{opacity:.7;filter:blur(2px)}.sunrays{position:absolute;z-index:1}.sunrays.morning{width:100px;height:100px;background:radial-gradient(circle,rgba(255,236,95,.4) 0,rgba(255,236,95,0) 70%);left:10%;top:20%;transform:translate(-20px,-20px);animation:pulsate 4s infinite ease-in-out}.sunrays.midday{width:120px;height:120px;background:radial-gradient(circle,rgba(255,245,157,.5) 0,rgba(255,245,157,0) 70%);left:50%;top:15%;transform:translate(-60px,-25px);animation:pulsate 4s infinite ease-in-out}.sunrays.evening{width:100px;height:100px;background:radial-gradient(circle,rgba(255,152,0,.4) 0,rgba(255,152,0,0) 70%);right:10%;top:20%;transform:translate(20px,-20px);animation:pulsate 4s infinite ease-in-out}.sunrays.faded{opacity:.6}.moon{position:absolute;width:50px;height:50px;background:#e6e6e6;border-radius:50%;box-shadow:0 0 20px rgba(255,255,255,.4);right:15%;top:15%;z-index:2}.moon.night{background:linear-gradient(45deg,#e6e6e6,#fff);box-shadow:0 0 20px rgba(255,255,255,.3),0 0 40px rgba(255,255,255,.1)}.moon.behind-clouds{opacity:.7;filter:blur(1px)}.stars{position:absolute;width:100%;height:100%;background-image:radial-gradient(1px 1px at 25% 15%,#fff,rgba(255,255,255,0)),radial-gradient(1px 1px at 50% 25%,#fff,rgba(255,255,255,0)),radial-gradient(1px 1px at 75% 5%,#fff,rgba(255,255,255,0)),radial-gradient(1.5px 1.5px at 15% 45%,#fff,rgba(255,255,255,0)),radial-gradient(1.5px 1.5px at 35% 65%,#fff,rgba(255,255,255,0)),radial-gradient(1px 1px at 85% 35%,#fff,rgba(255,255,255,0)),radial-gradient(1.5px 1.5px at 65% 75%,#fff,rgba(255,255,255,0)),radial-gradient(1px 1px at 95% 55%,#fff,rgba(255,255,255,0));z-index:1}.stars.faded{opacity:.6}.stars.sparse{background-image:radial-gradient(1px 1px at 25% 15%,#fff,rgba(255,255,255,0)),radial-gradient(1px 1px at 75% 5%,#fff,rgba(255,255,255,0)),radial-gradient(1.5px 1.5px at 35% 65%,#fff,rgba(255,255,255,0)),radial-gradient(1px 1px at 85% 35%,#fff,rgba(255,255,255,0))}.clouds{position:absolute;width:100%;height:100%;z-index:3;pointer-events:none}.clouds.few{background:0 0}.clouds.few::after,.clouds.few::before{content:'';position:absolute;background:rgba(255,255,255,.8);border-radius:50%;filter:blur(10px)}.clouds.few::before{width:100px;height:60px;left:20%;top:15%}.clouds.few::after{width:120px;height:70px;right:25%;top:20%}.clouds.scattered{background:0 0}.clouds.scattered::after,.clouds.scattered::before{content:'';position:absolute}.clouds.scattered::before{width:200px;height:60px;background:rgba(255,255,255,.85);border-radius:50px;left:10%;top:15%;filter:blur(8px);box-shadow:100px -10px 0 rgba(255,255,255,.8),180px 20px 0 rgba(255,255,255,.7)}.clouds.scattered::after{width:160px;height:40px;background:rgba(255,255,255,.8);border-radius:40px;right:15%;top:20%;filter:blur(5px);box-shadow:-70px 15px 0 rgba(255,255,255,.75)}.clouds.broken{background:0 0}.clouds.broken::after,.clouds.broken::before{content:'';position:absolute}.clouds.broken::before{width:100%;height:50px;background:rgba(220,220,220,.9);border-radius:50px;top:10%;filter:blur(10px);box-shadow:0 25px 0 rgba(210,210,210,.8),0 50px 0 rgba(200,200,200,.7),0 75px 0 rgba(190,190,190,.6)}.clouds.broken::after{width:60%;height:40px;background:rgba(230,230,230,.85);border-radius:40px;left:20%;top:30%;filter:blur(8px)}.clouds.overcast{background:0 0;position:absolute;top:0;left:0;right:0;height:100%}.clouds.overcast::before{content:'';position:absolute;width:120%;height:200px;background:rgba(180,180,180,.9);border-radius:100px;top:-50px;left:-10%;filter:blur(15px);box-shadow:0 30px 0 rgba(175,175,175,.85),0 60px 0 rgba(170,170,170,.8),0 90px 0 rgba(165,165,165,.75)}.clouds.dark{background:0 0}.clouds.dark::before{content:'';position:absolute;width:120%;height:200px;background:rgba(100,100,110,.9);border-radius:100px;top:-50px;left:-10%;filter:blur(15px);box-shadow:0 30px 0 rgba(90,90,100,.85),0 60px 0 rgba(80,80,90,.8),0 90px 0 rgba(70,70,80,.75)}.clouds.light{background:0 0}.clouds.light::before{content:'';position:absolute;width:120%;height:200px;background:rgba(230,230,235,.9);border-radius:100px;top:-50px;left:-10%;filter:blur(15px);box-shadow:0 30px 0 rgba(225,225,230,.85),0 60px 0 rgba(220,220,225,.8),0 90px 0 rgba(215,215,220,.75)}.clouds.thunderstorm{background:0 0}.clouds.thunderstorm::before{content:'';position:absolute;width:120%;height:200px;background:rgba(60,60,70,.95);border-radius:100px;top:-50px;left:-10%;filter:blur(15px);box-shadow:0 30px 0 rgba(55,55,65,.9),0 60px 0 rgba(50,50,60,.85),0 90px 0 rgba(45,45,55,.8)}.clouds.sunset-lit::before{background:rgba(255,200,170,.7);box-shadow:0 30px 0 rgba(255,180,150,.65),0 60px 0 rgba(255,160,130,.6),0 90px 0 rgba(255,140,110,.55)}.clouds.moonlit::before{background:rgba(220,220,230,.4);box-shadow:0 30px 0 rgba(210,210,220,.38),0 60px 0 rgba(200,200,210,.36),0 90px 0 rgba(190,190,200,.34)}.raindrop{position:absolute;width:2px;background:linear-gradient(to bottom,rgba(200,200,255,.8) 0,rgba(200,200,255,.4) 50%,transparent 100%);border-radius:50% 50% 50% 50%/60% 60% 40% 40%;animation:fall linear infinite}.rain.light .raindrop{height:15px;animation-duration:1.2s}.rain.medium .raindrop{height:20px;width:2.5px;animation-duration:.8s;background:linear-gradient(to bottom,rgba(190,190,255,.9) 0,rgba(190,190,255,.5) 50%,transparent 100%)}.rain.heavy .raindrop{height:25px;width:3px;animation-duration:.6s;background:linear-gradient(to bottom,#b4b4ff 0,rgba(180,180,255,.7) 50%,transparent 100%)}.drizzle .raindrop{height:8px;width:1px;animation-duration:1.8s;background:linear-gradient(to bottom,rgba(200,200,255,.5) 0,rgba(200,200,255,.2) 50%,transparent 100%)}@keyframes fall{0%{transform:translateY(-100vh) rotate(0);opacity:0}10%{opacity:1}90%{opacity:1}100%{transform:translateY(100vh) rotate(2deg);opacity:0}}.raindrop:nth-child(odd){animation-duration:calc(var(--base-duration, 1s) * 1.2)}.raindrop:nth-child(2n){animation-duration:calc(var(--base-duration, 1s) * .9)}.raindrop:nth-child(3n){animation-duration:calc(var(--base-duration, 1s) * 1.1)}.rain.windy .raindrop{animation-name:fall-windy}.rain.very-windy .raindrop{animation-name:fall-very-windy}.drizzle.windy .raindrop{animation-name:fall-windy-light}@keyframes fall-windy{0%{transform:translateY(-100vh) translateX(-10px) rotate(-8deg);opacity:0}10%{opacity:1}50%{transform:translateY(-50vh) translateX(15px) rotate(-5deg)}90%{opacity:1}100%{transform:translateY(100vh) translateX(30px) rotate(-2deg);opacity:0}}@keyframes fall-very-windy{0%{transform:translateY(-100vh) translateX(-20px) rotate(-15deg);opacity:0}10%{opacity:1}30%{transform:translateY(-70vh) translateX(10px) rotate(-12deg)}70%{transform:translateY(-30vh) translateX(40px) rotate(-8deg)}90%{opacity:1}100%{transform:translateY(100vh) translateX(60px) rotate(-3deg);opacity:0}}@keyframes fall-windy-light{0%{transform:translateY(-100vh) translateX(-5px) rotate(-5deg);opacity:0}10%{opacity:1}50%{transform:translateY(-50vh) translateX(8px) rotate(-3deg)}90%{opacity:1}100%{transform:translateY(100vh) translateX(15px) rotate(-1deg);opacity:0}}.rain.windy .raindrop:nth-child(odd){animation-duration:calc(var(--base-duration, 1s) * .8)}.rain.windy .raindrop:nth-child(2n){animation-duration:calc(var(--base-duration, 1s) * 1.2)}.rain.very-windy .raindrop:nth-child(3n){animation-duration:calc(var(--base-duration, 1s) * .7)}.snow{position:absolute;width:100%;height:100%;background-image:radial-gradient(2px 2px at 10% 10%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 20% 20%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 30% 30%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 40% 40%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 50% 50%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 60% 60%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 70% 70%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 80% 80%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 90% 90%,rgba(255,255,255,.8),rgba(255,255,255,0));animation:snow 10s linear infinite;z-index:4}.snow.light{opacity:.7;animation-duration:12s}.snow.medium{opacity:.8;background-image:radial-gradient(2px 2px at 5% 5%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 15% 15%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 25% 25%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 35% 35%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 45% 45%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 55% 55%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 65% 65%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 75% 75%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 85% 85%,rgba(255,255,255,.8),rgba(255,255,255,0)),radial-gradient(2px 2px at 95% 95%,rgba(255,255,255,.8),rgba(255,255,255,0));animation-duration:10s}.snow.heavy{opacity:.9;background-image:radial-gradient(3px 3px at 5% 5%,rgba(255,255,255,.9),rgba(255,255,255,0)),radial-gradient(3px 3px at 10% 10%,rgba(255,255,255,.9),rgba(255,255,255,0)),radial-gradient(3px 3px at 15% 15%,rgba(255,255,255,.9),rgba(255,255,255,0)),radial-gradient(3px 3px at 20% 20%,rgba(255,255,255,.9),rgba(255,255,255,0)),radial-gradient(3px 3px at 25% 25%,rgba(255,255,255,.9),rgba(255,255,255,0)),radial-gradient(3px 3px at 30% 30%,rgba(255,255,255,.9),rgba(255,255,255,0)),radial-gradient(3px 3px at 35% 35%,rgba(255,255,255,.9),rgba(255,255,255,0)),radial-gradient(3px 3px at 40% 40%,rgba(255,255,255,.9),rgba(255,255,255,0)),radial-gradient(3px 3px at 45% 45%,rgba(255,255,255,.9),rgba(255,255,255,0)),radial-gradient(3px 3px at 50% 50%,rgba(255,255,255,.9),rgba(255,255,255,0)),radial-gradient(3px 3px at 55% 55%,rgba(255,255,255,.9),rgba(255,255,255,0)),radial-gradient(3px 3px at 60% 60%,rgba(255,255,255,.9),rgba(255,255,255,0));animation-duration:8s}.fog{position:absolute;width:100%;height:100%;background:linear-gradient(to bottom,rgba(220,220,220,.7) 0,rgba(220,220,220,.5) 50%,rgba(220,220,220,0) 100%);animation:fog 10s ease-in-out infinite alternate;z-index:3}.lightning{position:absolute;width:100%;height:100%;z-index:5}.lightning::before{content:'';position:absolute;width:5px;height:200px;background:linear-gradient(to bottom,rgba(255,255,255,.9),rgba(255,255,255,0));transform:rotate(15deg);top:10%;left:40%;filter:blur(1px);opacity:0;animation:lightning 6s infinite}.lightning::after{content:'';position:absolute;width:3px;height:150px;background:linear-gradient(to bottom,rgba(255,255,255,.9),rgba(255,255,255,0));transform:rotate(-5deg);top:15%;left:55%;filter:blur(1px);opacity:0;animation:lightning 6s infinite 2s}.hail{position:absolute;width:100%;height:100%;background-image:radial-gradient(3px 3px at 10% 10%,rgba(220,230,240,.8),rgba(220,230,240,0)),radial-gradient(3px 3px at 30% 30%,rgba(220,230,240,.8),rgba(220,230,240,0)),radial-gradient(3px 3px at 50% 50%,rgba(220,230,240,.8),rgba(220,230,240,0)),radial-gradient(3px 3px at 70% 70%,rgba(220,230,240,.8),rgba(220,230,240,0)),radial-gradient(3px 3px at 90% 90%,rgba(220,230,240,.8),rgba(220,230,240,0));animation:hail 1s linear infinite;z-index:4}@keyframes pulsate{0%{transform:scale(1);opacity:.8}50%{transform:scale(1.1);opacity:1}100%{transform:scale(1);opacity:.8}}@keyframes rain{0%{background-position:0 0}100%{background-position:0 100px}}@keyframes snow{0%{background-position:0 0;opacity:.7}50%{opacity:1}100%{background-position:500px 1000px,400px 400px,300px 300px;opacity:.7}}@keyframes fog{0%{opacity:.5}100%{opacity:.8}}@keyframes lightning{0%{opacity:0}1%{opacity:0}2%{opacity:1}3%{opacity:0}4%{opacity:1}6%{opacity:0}100%{opacity:0}}@keyframes hail{0%{background-position:0 0}100%{background-position:20px 200px}}</style>
</head>
<body>
<div id=detailedWeather class=detailed-weather>
<svg width=24 height=24 stroke=currentColor viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg style=color:var(--text-color);position:fixed;left:50%;top:50%>
<style>.spinner_V8m1{transform-origin:center;animation:spinner_zKoa 2s linear infinite}.spinner_V8m1 circle{stroke-linecap:round;animation:spinner_YpZS 1.5s ease-in-out infinite}@keyframes spinner_zKoa{100%{transform:rotate(360deg)}}@keyframes spinner_YpZS{0%{stroke-dasharray:0 150;stroke-dashoffset:0}47.5%{stroke-dasharray:42 150;stroke-dashoffset:-16}100%,95%{stroke-dasharray:42 150;stroke-dashoffset:-59}}</style>
<g class=spinner_V8m1><circle cx=12 cy=12 r=9.5 fill=none stroke-width=3></circle></g>
</svg>
</div>
<a href=https://open-meteo.com/ target=_blank style=position:absolute;top:10px;left:15px;font-size:small;color:#f9f9f9;text-decoration:none>Open-Meteo</a>
<script>function isDaytime(){const e=(new Date).getHours();return e>=6&&e<=18}const weatherConditions={0:{description:"Clear Sky",icon:()=>isDaytime()?"clear_day":"clear_night"},1:{description:"Mainly Clear",icon:()=>isDaytime()?"partly_cloudy_day":"partly_cloudy_night"},2:{description:"Partly Cloudy",icon:()=>isDaytime()?"partly_cloudy_day":"partly_cloudy_night"},3:{description:"Overcast",icon:()=>"cloudy"},45:{description:"Fog",icon:()=>"foggy"},48:{description:"Depositing Rime Fog",icon:()=>"foggy"},51:{description:"Light Drizzle",icon:()=>(isDaytime(),"rainy_light")},53:{description:"Moderate Drizzle",icon:()=>(isDaytime(),"rainy")},55:{description:"Dense Drizzle",icon:()=>(isDaytime(),"rainy")},56:{description:"Light Freezing Drizzle",icon:()=>(isDaytime(),"cloudy_snowing")},57:{description:"Dense Freezing Drizzle",icon:()=>(isDaytime(),"cloudy_snowing")},61:{description:"Slight Rain",icon:()=>(isDaytime(),"rainy_light")},63:{description:"Moderate Rain",icon:()=>(isDaytime(),"rainy")},65:{description:"Heavy Rain",icon:()=>(isDaytime(),"rainy")},66:{description:"Light Freezing Rain",icon:()=>(isDaytime(),"cloudy_snowing")},67:{description:"Heavy Freezing Rain",icon:()=>(isDaytime(),"cloudy_snowing")},71:{description:"Slight Snow",icon:()=>(isDaytime(),"cloudy_snowing")},73:{description:"Moderate Snow",icon:()=>(isDaytime(),"cloudy_snowing")},75:{description:"Heavy Snow",icon:()=>(isDaytime(),"cloudy_snowing")},77:{description:"Snow Grains",icon:()=>(isDaytime(),"cloudy_snowing")},80:{description:"Slight Showers",icon:()=>(isDaytime(),"rainy_light")},81:{description:"Moderate Showers",icon:()=>(isDaytime(),"rainy")},82:{description:"Violent Showers",icon:()=>(isDaytime(),"thunderstorm")},85:{description:"Slight Snow Showers",icon:()=>(isDaytime(),"cloudy_snowing")},86:{description:"Heavy Snow Showers",icon:()=>(isDaytime(),"cloudy_snowing")},95:{description:"Thunderstorm",icon:()=>(isDaytime(),"thunderstorm")},96:{icon:()=>(isDaytime(),"thunderstorm")},99:{description:"Heavy Thunderstorm with Hail",icon:()=>(isDaytime(),"thunderstorm")}};async function getTimezoneFromCoords(e,n){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return console.warn("Failed to get timezone, using UTC:",e),"UTC"}}function getTemperatureUnit(e){return["US","USA","United States","Liberia","Myanmar","Burma"].some((n=>e?.toLowerCase().includes(n.toLowerCase())))?"fahrenheit":"celsius"}async function fetchLocationAndWeather(){return new Promise(((e,n)=>{navigator.geolocation.getCurrentPosition((async i=>{try{const{latitude:n,longitude:a}=i.coords,r=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${n}&lon=${a}`;let t="Unknown Location",s="",d="UTC";try{const e=await fetch(r),i=await e.json();t=i.address.city||i.address.town||i.address.village||"Unknown Location",s=i.address.country||"",d=await getTimezoneFromCoords(n,a)}catch(e){console.warn("Failed to retrieve location details",e),d=Intl.DateTimeFormat().resolvedOptions().timeZone}const o=getTemperatureUnit(s),c="fahrenheit"===o?"&temperature_unit=fahrenheit":"",l=`https://api.open-meteo.com/v1/forecast?latitude=${n}&longitude=${a}&current_weather=true&timezone=${encodeURIComponent(d)}${c}`,g=`https://api.open-meteo.com/v1/forecast?latitude=${n}&longitude=${a}&daily=temperature_2m_max,weathercode&timezone=${encodeURIComponent(d)}${c}`,m=`https://api.open-meteo.com/v1/forecast?latitude=${n}&longitude=${a}&hourly=temperature_2m,weathercode&timezone=${encodeURIComponent(d)}${c}`,[v,u,b]=await Promise.all([fetch(l),fetch(g),fetch(m)]),h=await v.json(),y=await u.json(),p=await b.json(),w={city:t,country:s,timezone:d,temperatureUnit:o,current:h.current_weather,dailyForecast:y.daily,hourlyForecast:p.hourly};localStorage.setItem("lastWeatherData",JSON.stringify(w)),e(w)}catch(i){console.error("Error fetching weather data:",i),navigator.onLine||showPopup(currentLanguage.OFFLINE);const a=localStorage.getItem("lastWeatherData");if(a)return void e(JSON.parse(a));n(i)}}),(e=>{console.error("Geolocation error:",e),n(e)}),{enableHighAccuracy:!0,timeout:3e4,maximumAge:0})}))}function getDayOfWeek(e,n="UTC"){return new Date(e).toLocaleDateString("en-US",{weekday:"long",timeZone:n})}function getHourString(e,n="UTC"){return new Date(e).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",timeZone:n})}function getWindClass(e){return e>=25?"very-windy":e>=15?"windy":""}function createRaindrops(e,n="medium"){e.querySelectorAll(".raindrop").forEach((e=>e.remove()));const i=e.classList.contains("windy"),a=e.classList.contains("very-windy"),r={drizzle:25,light:50,medium:100,heavy:180}[n]||100,t={drizzle:"1.8s",light:"1.2s",medium:"0.8s",heavy:"0.6s"};e.style.setProperty("--base-duration",t[n]);for(let s=0;s<r;s++){const r=document.createElement("div");if(r.className="raindrop",r.style.left=100*Math.random()+"%",r.style.animationDelay=2*Math.random()+"s",i||a){const e=parseFloat(t[n]),i=.4*(Math.random()-.5);r.style.animationDuration=e+i+"s";const a=10*(Math.random()-.5);r.style.left=100*Math.random()+a+"%"}e.appendChild(r)}}async function displayDetailedWeather(){const e=await fetchLocationAndWeather();if(!e)return void(document.getElementById("detailedWeather").innerHTML="Failed to load weather");const{city:n,country:i,timezone:a,temperatureUnit:r,current:t,dailyForecast:s,hourlyForecast:d}=e,o=weatherConditions[t.weathercode]||{description:"Unknown",icon:()=>"❓"},c=new Date,l=new Date(c.toLocaleString("en-US",{timeZone:a}));l.setHours(24,0,0,0);const g=d.time.map(((e,n)=>{const i=new Date(e),r=new Date(i.toLocaleString("en-US",{timeZone:a}));return r>new Date(c.toLocaleString("en-US",{timeZone:a}))&&r<l?{time:e,temperature:d.temperature_2m[n],weatherCode:d.weathercode[n]}:null})).filter(Boolean),m=new Date(c.toLocaleString("en-US",{timeZone:a})).getHours(),v=m>=6&&m<=18,u=m>=6&&m<10,b=m>=16&&m<20,h=m>=10&&m<16,y=getWindClass(t.windspeed),p=t.weathercode>=80?"heavy":t.weathercode>=63?"medium":"light";let w="",f="",$="";if(v){if(u)switch(t.weathercode){case 0:default:w="linear-gradient(rgb(135, 206, 235), rgb(255, 183, 107))",f="linear-gradient(rgb(255, 128, 0), rgb(255, 215, 0))",$+='\n                                <div class="sun morning"></div>\n                                <div class="sunrays morning"></div>\n                            ';break;case 1:w="linear-gradient(rgb(100, 181, 246), rgb(255, 213, 167))",f="linear-gradient(rgb(255, 160, 0), rgb(255, 235, 59))",$+='\n                                <div class="sun morning"></div>\n                                <div class="sunrays morning faded"></div>\n                                <div class="clouds few morning"></div>\n                            ';break;case 2:w="linear-gradient(rgb(129, 195, 236), rgb(219, 217, 198))",f="linear-gradient(rgb(244, 177, 131), rgb(255, 241, 193))",$+='\n                                <div class="sun morning behind-clouds"></div>\n                                <div class="clouds scattered morning"></div>\n                            ';break;case 3:w="linear-gradient(rgb(176, 190, 197), rgb(207, 216, 220))",f="linear-gradient(rgb(158, 158, 158), rgb(189, 189, 189))",$+='\n                                <div class="clouds overcast morning"></div>\n                            ';break;case 45:case 48:w="linear-gradient(rgb(207, 216, 220), rgb(236, 239, 241))",f="linear-gradient(rgb(189, 189, 189), rgb(224, 224, 224))",$+='\n                                <div class="fog morning"></div>\n                            ';break;case 51:case 53:case 55:w="linear-gradient(rgb(129, 178, 214), rgb(188, 197, 204))",f="linear-gradient(rgb(100, 143, 189), rgb(149, 179, 205))",$+=`\n                                <div class="clouds broken morning"></div>\n                                <div class="drizzle morning ${y}"></div>\n                            `;break;case 61:case 63:case 65:case 66:case 67:case 80:case 81:case 82:w="linear-gradient(rgb(96, 146, 178), rgb(161, 183, 195))",f="linear-gradient(rgb(69, 93, 122), rgb(110, 148, 176))",$+=`\n                                <div class="clouds dark morning"></div>\n                                <div class="rain morning ${p} ${y}"></div>\n                            `;break;case 71:case 73:case 75:case 77:case 85:case 86:w="linear-gradient(rgb(209, 217, 226), rgb(235, 239, 243))",f="linear-gradient(rgb(189, 200, 214), rgb(212, 221, 232))",$+=`\n                                <div class="clouds light morning"></div>\n                                <div class="snow morning ${t.weathercode>=85?"heavy":t.weathercode>=73?"medium":"light"}"></div>\n                            `;break;case 95:case 96:case 99:w="linear-gradient(rgb(67, 90, 120), rgb(108, 128, 147))",f="linear-gradient(rgb(45, 52, 75), rgb(79, 93, 108))",$+=`\n                                <div class="clouds thunderstorm morning"></div>\n                                <div class="rain heavy morning ${y}"></div>\n                                <div class="lightning morning"></div>\n                                ${t.weathercode>=96?'<div class="hail morning"></div>':""}\n                            `}else if(h)switch(t.weathercode){case 0:default:w="linear-gradient(rgb(0, 191, 255), rgb(135, 206, 250))",f="linear-gradient(rgb(255, 236, 179), rgb(255, 255, 240))",$+='\n                                <div class="sun midday"></div>\n                                <div class="sunrays midday"></div>\n                            ';break;case 1:w="linear-gradient(rgb(30, 144, 255), rgb(135, 206, 250))",f="linear-gradient(rgb(248, 245, 224), rgb(240, 248, 255))",$+='\n                                <div class="sun midday"></div>\n                                <div class="sunrays midday faded"></div>\n                                <div class="clouds few midday"></div>\n                            ';break;case 2:w="linear-gradient(rgb(64, 156, 255), rgb(190, 222, 245))",f="linear-gradient(rgb(240, 240, 240), rgb(255, 255, 255))",$+='\n                                <div class="sun midday behind-clouds"></div>\n                                <div class="clouds scattered midday"></div>\n                            ';break;case 3:w="linear-gradient(rgb(137, 152, 170), rgb(189, 198, 207))",f="linear-gradient(rgb(176, 190, 197), rgb(207, 216, 220))",$+='\n                                <div class="clouds overcast midday"></div>\n                            ';break;case 45:case 48:w="linear-gradient(rgb(180, 187, 194), rgb(220, 227, 232))",f="linear-gradient(rgb(212, 222, 231), rgb(235, 239, 243))",$+='\n                                <div class="fog midday"></div>\n                            ';break;case 51:case 53:case 55:w="linear-gradient(rgb(86, 156, 214), rgb(157, 192, 219))",f="linear-gradient(rgb(188, 222, 242), rgb(214, 230, 242))",$+=`\n                                <div class="clouds broken midday"></div>\n                                <div class="drizzle midday ${y}"></div>\n                            `;break;case 61:case 63:case 65:case 66:case 67:case 80:case 81:case 82:w="linear-gradient(rgb(62, 146, 204), rgb(124, 169, 207))",f="linear-gradient(rgb(125, 166, 204), rgb(174, 198, 219))",$+=`\n                                <div class="clouds dark midday"></div>\n                                <div class="rain midday ${p} ${y}"></div>\n                            `;break;case 71:case 73:case 75:case 77:case 85:case 86:w="linear-gradient(rgb(185, 219, 237), rgb(225, 240, 247))",f="linear-gradient(rgb(230, 240, 245), rgb(245, 252, 255))",$+=`\n                                <div class="clouds light midday"></div>\n                                <div class="snow midday ${t.weathercode>=85?"heavy":t.weathercode>=73?"medium":"light"}"></div>\n                            `;break;case 95:case 96:case 99:w="linear-gradient(rgb(47, 79, 103), rgb(86, 105, 124))",f="linear-gradient(rgb(37, 50, 65), rgb(58, 76, 94))",$+=`\n                                <div class="clouds thunderstorm midday"></div>\n                                <div class="rain heavy midday ${y}"></div>\n                                <div class="lightning midday"></div>\n                                ${t.weathercode>=96?'<div class="hail midday"></div>':""}\n                            `}else if(b)switch(t.weathercode){case 0:default:w="linear-gradient(rgb(65, 105, 225), rgb(255, 128, 0))",f="linear-gradient(rgb(255, 69, 0), rgb(255, 215, 0))",$+='\n                                <div class="sun evening"></div>\n                                <div class="sunrays evening"></div>\n                            ';break;case 1:w="linear-gradient(rgb(70, 130, 180), rgb(255, 160, 122))",f="linear-gradient(rgb(255, 99, 71), rgb(255, 222, 173))",$+='\n                                <div class="sun evening"></div>\n                                <div class="sunrays evening faded"></div>\n                                <div class="clouds few evening"></div>\n                            ';break;case 2:w="linear-gradient(rgb(100, 149, 237), rgb(240, 128, 128))",f="linear-gradient(rgb(233, 150, 122), rgb(255, 239, 213))",$+='\n                                <div class="sun evening behind-clouds"></div>\n                                <div class="clouds scattered evening sunset-lit"></div>\n                            ';break;case 3:w="linear-gradient(rgb(95, 106, 129), rgb(155, 159, 172))",f="linear-gradient(rgb(119, 136, 153), rgb(176, 176, 176))",$+='\n                                <div class="clouds overcast evening"></div>\n                            ';break;case 45:case 48:w="linear-gradient(rgb(143, 155, 179), rgb(190, 195, 209))",f="linear-gradient(rgb(169, 181, 204), rgb(211, 213, 222))",$+='\n                                <div class="fog evening"></div>\n                            ';break;case 51:case 53:case 55:w="linear-gradient(rgb(74, 112, 139), rgb(153, 169, 188))",f="linear-gradient(rgb(84, 120, 169), rgb(169, 188, 208))",$+=`\n                                <div class="clouds broken evening"></div>\n                                <div class="drizzle evening ${y}"></div>\n                            `;break;case 61:case 63:case 65:case 66:case 67:case 80:case 81:case 82:w="linear-gradient(rgb(54, 92, 125), rgb(121, 143, 161))",f="linear-gradient(rgb(40, 65, 85), rgb(90, 115, 135))",$+=`\n                                <div class="clouds dark evening"></div>\n                                <div class="rain evening ${p} ${y}"></div>\n                            `;break;case 71:case 73:case 75:case 77:case 85:case 86:w="linear-gradient(rgb(160, 175, 200), rgb(210, 215, 228))",f="linear-gradient(rgb(180, 195, 218), rgb(225, 230, 240))",$+=`\n                                <div class="clouds light evening"></div>\n                                <div class="snow evening ${t.weathercode>=85?"heavy":t.weathercode>=73?"medium":"light"}"></div>\n                            `;break;case 95:case 96:case 99:w="linear-gradient(rgb(45, 62, 80), rgb(75, 92, 110))",f="linear-gradient(rgb(25, 35, 55), rgb(50, 65, 80))",$+=`\n                                <div class="clouds thunderstorm evening"></div>\n                                <div class="rain heavy evening ${y}"></div>\n                                <div class="lightning evening"></div>\n                                ${t.weathercode>=96?'<div class="hail evening"></div>':""}\n                            `}}else{switch(t.weathercode){case 0:default:w="linear-gradient(rgb(10, 15, 50), rgb(25, 25, 70))",f="linear-gradient(rgb(0, 0, 30), rgb(15, 15, 45))",$+='\n                            <div class="stars night"></div>\n                            <div class="moon night"></div>\n                        ';break;case 1:w="linear-gradient(rgb(15, 20, 55), rgb(30, 30, 75))",f="linear-gradient(rgb(5, 5, 35), rgb(20, 20, 50))",$+='\n                            <div class="stars night faded"></div>\n                            <div class="moon night"></div>\n                            <div class="clouds few night"></div>\n                        ';break;case 2:w="linear-gradient(rgb(20, 25, 60), rgb(35, 40, 80))",f="linear-gradient(rgb(10, 15, 40), rgb(25, 30, 65))",$+='\n                            <div class="stars night sparse"></div>\n                            <div class="moon night behind-clouds"></div>\n                            <div class="clouds scattered night moonlit"></div>\n                        ';break;case 3:w="linear-gradient(rgb(30, 35, 45), rgb(45, 50, 60))",f="linear-gradient(rgb(20, 25, 35), rgb(35, 40, 50))",$+='\n                            <div class="clouds overcast night"></div>\n                        ';break;case 45:case 48:w="linear-gradient(rgb(40, 45, 55), rgb(60, 65, 75))",f="linear-gradient(rgb(30, 35, 45), rgb(50, 55, 65))",$+='\n                            <div class="fog night"></div>\n                        ';break;case 51:case 53:case 55:w="linear-gradient(rgb(25, 35, 50), rgb(40, 50, 65))",f="linear-gradient(rgb(15, 25, 40), rgb(30, 40, 55))",$+=`\n                            <div class="clouds broken night"></div>\n                            <div class="drizzle night ${y}"></div>\n                        `;break;case 61:case 63:case 65:case 66:case 67:case 80:case 81:case 82:w="linear-gradient(rgb(20, 30, 45), rgb(35, 45, 60))",f="linear-gradient(rgb(10, 20, 35), rgb(25, 35, 50))",$+=`\n                            <div class="clouds dark night"></div>\n                            <div class="rain night ${p} ${y}"></div>\n                        `;break;case 71:case 73:case 75:case 77:case 85:case 86:w="linear-gradient(rgb(35, 40, 55), rgb(55, 60, 75))",f="linear-gradient(rgb(25, 30, 45), rgb(45, 50, 65))",$+=`\n                            <div class="clouds light night"></div>\n                            <div class="snow night ${t.weathercode>=85?"heavy":t.weathercode>=73?"medium":"light"}"></div>\n                        `;break;case 95:case 96:case 99:w="linear-gradient(rgb(15, 20, 35), rgb(25, 30, 45))",f="linear-gradient(rgb(5, 10, 25), rgb(15, 20, 35))",$+=`\n                            <div class="clouds thunderstorm night"></div>\n                            <div class="rain heavy night ${y}"></div>\n                            <div class="lightning night"></div>\n                            ${t.weathercode>=96?'<div class="hail night"></div>':""}\n                        `}setTimeout((()=>{document.querySelectorAll(".drizzle").forEach((e=>{createRaindrops(e,"drizzle")}));document.querySelectorAll(".rain").forEach((e=>{let n="medium";e.classList.contains("light")?n="light":e.classList.contains("medium")?n="medium":e.classList.contains("heavy")&&(n="heavy"),createRaindrops(e,n)}))}),100)}const D=document.getElementById("detailedWeather"),k=window.getComputedStyle(D).background;D.className="detailed-weather",transitionGradient(D,k,w,500),D.style.setProperty("--pseudo-gradient",f);const S="fahrenheit"===r?"°F":"°C";document.getElementById("detailedWeather").innerHTML=`\n                <div class="weather-elements-container">\n                    ${$}\n                </div>\n                <p class="location-text">${n}</p>\n                <span class="weather-icon material-symbols-rounded">${o.icon(v)}</span>\n                <h2>${t.temperature}${S}</h2>\n                \n                <p>${o.description}</p>\n                <p class="additional-info">${t.windspeed} km/h</p>\n                <div class="hourly-forecast">\n                    ${g.map(((e,n)=>{const i=0===n?"hour first":n===g.length-1?"hour last":"hour",r=getHourString(e.time,a),t=weatherConditions[e.weatherCode]||{description:"Unknown",icon:()=>"❓"};return`\n                            <div class="${i}">\n                                <span>${r}</span>\n                                <span>${e.temperature}${S}</span>\n                                <span class="material-symbols-rounded">${t.icon(isDaytimeForHour(e.time,a))}</span>\n                                <span>${t.description}</span>\n                            </div>\n                        `})).join("")}\n                </div>\n                <div class="forecast-container">\n                    ${s.time.slice(1,6).map(((e,n)=>{const i=getDayOfWeek(e,a),r=s.weathercode[n+1],t=s.temperature_2m_max[n+1],d=weatherConditions[r]||{description:"Unknown",icon:()=>"❓"};return`\n                            <div class="forecast-day">\n                                <p class="day-name">${i}</p>\n                                <p class="forecast-icon material-symbols-rounded">${d.icon(!0)}</p>\n                                <p>${t}${S}</p>\n                                <p>${d.description}</p>\n                            </div>\n                        `})).join("")}\n                </div>\n            `,setTimeout((()=>{document.querySelectorAll(".drizzle").forEach((e=>{createRaindrops(e,"drizzle")}));document.querySelectorAll(".rain").forEach((e=>{let n="medium";e.classList.contains("light")?n="light":e.classList.contains("medium")?n="medium":e.classList.contains("heavy")&&(n="heavy"),createRaindrops(e,n)}))}),100)}function transitionGradient(e,n,i,a=500){const r=n.match(/rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)/g)||["rgb(0, 0, 0)","rgb(0, 0, 0)"],t=i.match(/rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)/g)||["rgb(0, 0, 0)","rgb(0, 0, 0)"];r.length<2&&r.push(r[0]),t.length<2&&t.push(t[0]);const s=a/16.667;let d=0;const o=setInterval((()=>{if(d>=s)return clearInterval(o),void(e.style.background=i);const n=d/s,a=`linear-gradient(${interpolateColor(parseRGB(r[0]),parseRGB(t[0]),n)}, ${interpolateColor(parseRGB(r[r.length-1]),parseRGB(t[t.length-1]),n)})`;e.style.background=a,d++}),16.667)}function parseRGB(e){const n=e.match(/\d+/g);return!n||n.length<3?{r:0,g:0,b:0}:{r:parseInt(n[0]),g:parseInt(n[1]),b:parseInt(n[2])}}function interpolateColor(e,n,i){return`rgb(${Math.round(e.r+(n.r-e.r)*i)}, ${Math.round(e.g+(n.g-e.g)*i)}, ${Math.round(e.b+(n.b-e.b)*i)})`}function isDaytimeForHour(e,n="UTC"){const i=new Date(e),a=new Date(i.toLocaleString("en-US",{timeZone:n})).getHours();return a>=6&&a<=18}document.addEventListener("DOMContentLoaded",(()=>{const e=localStorage.getItem("theme")||"dark";document.body.classList.toggle("light-theme","light"===e);const n="false"!==localStorage.getItem("animationsEnabled");document.body.classList.toggle("reduce-animations",!n),window.addEventListener("message",(e=>{if(e.origin===window.location.origin)if("themeUpdate"===e.data.type){const n=e.data.theme;document.body.classList.toggle("light-theme","light"===n),console.log("App theme updated via message to:",n)}else if("animationsUpdate"===e.data.type){const n=e.data.enabled;document.body.classList.toggle("reduce-animations",!n),console.log("App animations updated via message to:",n?"enabled":"disabled")}})),displayDetailedWeather()}))</script>
</body>
</html>